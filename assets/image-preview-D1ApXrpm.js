import{r as m,j as e,v as y,o as c,a1 as N,z as R}from"./main-Dg6BE9yI.js";import{X as b}from"./x-DmP3Cy0d.js";var U=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],I=U.reduce((r,i)=>{const o=y(`Primitive.${i}`),a=m.forwardRef((l,n)=>{const{asChild:d,...p}=l,u=d?o:i;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(u,{...p,ref:n})});return a.displayName=`Primitive.${i}`,{...r,[i]:a}},{}),L="AspectRatio",f=m.forwardRef((r,i)=>{const{ratio:o=1/1,style:a,...l}=r;return e.jsx("div",{style:{position:"relative",width:"100%",paddingBottom:`${100/o}%`},"data-radix-aspect-ratio-wrapper":"",children:e.jsx(I.div,{...l,ref:i,style:{...a,position:"absolute",top:0,right:0,bottom:0,left:0}})})});f.displayName=L;var P=f;function A({...r}){return e.jsx(P,{"data-slot":"aspect-ratio",...r})}function C({images:r,columns:i=3,onRemove:o,onClick:a,showRemove:l=!0,className:n,itemClassName:d,emptyMessage:p="No images",loading:u=!1}){const g=t=>typeof t=="string"?t:t instanceof File?URL.createObjectURL(t):t.url,v=(t,s)=>typeof t=="string"?`Image ${s+1}`:t instanceof File?t.name:t.alt||`Image ${s+1}`;if(m.useEffect(()=>()=>{r.forEach(t=>{if(t instanceof File){const s=URL.createObjectURL(t);URL.revokeObjectURL(s)}})},[]),u)return e.jsx("div",{className:c("flex items-center justify-center p-8",n),"data-slot":"image-preview-loading",children:e.jsx("div",{className:"text-muted-foreground",children:"Loading images..."})});if(r.length===0)return e.jsxs("div",{className:c("flex flex-col items-center justify-center p-8 text-center",n),"data-slot":"image-preview-empty",children:[e.jsx(N,{className:"h-12 w-12 text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:p})]});const x={1:"grid-cols-1",2:"grid-cols-2",3:"grid-cols-3",4:"grid-cols-4",5:"grid-cols-5",6:"grid-cols-6"};return e.jsx("div",{className:c("grid gap-4",x[i],n),"data-slot":"image-preview",children:r.map((t,s)=>{const h=g(t),j=v(t,s);return e.jsx("div",{className:c("group relative",d),"data-slot":"image-preview-item",children:e.jsxs(A,{ratio:1,className:"overflow-hidden rounded-lg bg-muted",children:[e.jsx("img",{src:h,alt:j,className:"h-full w-full object-cover transition-transform group-hover:scale-105 cursor-pointer",onClick:()=>a?.(s,t),"data-slot":"image-preview-image"}),l&&o&&e.jsxs(R,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:w=>{w.stopPropagation(),o(s)},"data-slot":"image-preview-remove",children:[e.jsx(b,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Remove image"})]})]})},s)})})}export{C as I};
