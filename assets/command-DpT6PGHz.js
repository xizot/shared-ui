import{y as Ce,r as l,j as E,v as Se,g as P,G as O,o as F,H as Ie,D as Re}from"./main-BCi_6bsg.js";import{R as je,P as Ae,O as Ne,C as $e}from"./index-CsPFyzxQ.js";const Me=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ut=Ce("circle-x",Me);var me=1,De=.9,Le=.8,Pe=.17,ee=.1,te=.999,Fe=.9999,Ke=.99,qe=/[\\\/_+.#"@\[\(\{&]/,ze=/[\\\/_+.#"@\[\(\{&]/g,Oe=/[\s-]/,he=/[\s-]/g;function ne(e,n,r,d,a,i,s){if(i===n.length)return a===e.length?me:Ke;var f=`${a},${i}`;if(s[f]!==void 0)return s[f];for(var b=d.charAt(i),o=r.indexOf(b,a),p=0,h,S,w,I;o>=0;)h=ne(e,n,r,d,o+1,i+1,s),h>p&&(o===a?h*=me:qe.test(e.charAt(o-1))?(h*=Le,w=e.slice(a,o-1).match(ze),w&&a>0&&(h*=Math.pow(te,w.length))):Oe.test(e.charAt(o-1))?(h*=De,I=e.slice(a,o-1).match(he),I&&a>0&&(h*=Math.pow(te,I.length))):(h*=Pe,a>0&&(h*=Math.pow(te,o-a))),e.charAt(o)!==n.charAt(i)&&(h*=Fe)),(h<ee&&r.charAt(o-1)===d.charAt(i+1)||d.charAt(i+1)===d.charAt(i)&&r.charAt(o-1)!==d.charAt(i))&&(S=ne(e,n,r,d,o+1,i+2,s),S*ee>h&&(h=S*ee)),h>p&&(p=h),o=r.indexOf(b,o+1);return s[f]=p,p}function ve(e){return e.toLowerCase().replace(he," ")}function Ve(e,n,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,ne(e,n,ve(e),ve(n),0,0,{})}var Be=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],j=Be.reduce((e,n)=>{const r=Se(`Primitive.${n}`),d=l.forwardRef((a,i)=>{const{asChild:s,...f}=a,b=s?r:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(b,{...f,ref:i})});return d.displayName=`Primitive.${n}`,{...e,[n]:d}},{}),z='[cmdk-group=""]',re='[cmdk-group-items=""]',Ge='[cmdk-group-heading=""]',ge='[cmdk-item=""]',pe=`${ge}:not([aria-disabled="true"])`,le="cmdk-item-select",D="data-value",_e=(e,n,r)=>Ve(e,n,r),be=l.createContext(void 0),V=()=>l.useContext(be),xe=l.createContext(void 0),ae=()=>l.useContext(xe),ye=l.createContext(void 0),we=l.forwardRef((e,n)=>{let r=L(()=>{var t,c;return{search:"",value:(c=(t=e.value)!=null?t:e.defaultValue)!=null?c:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),d=L(()=>new Set),a=L(()=>new Map),i=L(()=>new Map),s=L(()=>new Set),f=ke(e),{label:b,children:o,value:p,onValueChange:h,filter:S,shouldFilter:w,loop:I,disablePointerSelection:H=!1,vimBindings:A=!0,...B}=e,U=P(),ue=P(),W=P(),N=l.useRef(null),x=tt();$(()=>{if(p!==void 0){let t=p.trim();r.current.value=t,k.emit()}},[p]),$(()=>{x(6,oe)},[]);let k=l.useMemo(()=>({subscribe:t=>(s.current.add(t),()=>s.current.delete(t)),snapshot:()=>r.current,setState:(t,c,m)=>{var u,v,g,C;if(!Object.is(r.current[t],c)){if(r.current[t]=c,t==="search")Y(),X(),x(1,J);else if(t==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let y=document.getElementById(W);y?y.focus():(u=document.getElementById(U))==null||u.focus()}if(x(7,()=>{var y;r.current.selectedItemId=(y=M())==null?void 0:y.id,k.emit()}),m||x(5,oe),((v=f.current)==null?void 0:v.value)!==void 0){let y=c??"";(C=(g=f.current).onValueChange)==null||C.call(g,y);return}}k.emit()}},emit:()=>{s.current.forEach(t=>t())}}),[]),T=l.useMemo(()=>({value:(t,c,m)=>{var u;c!==((u=i.current.get(t))==null?void 0:u.value)&&(i.current.set(t,{value:c,keywords:m}),r.current.filtered.items.set(t,ie(c,m)),x(2,()=>{X(),k.emit()}))},item:(t,c)=>(d.current.add(t),c&&(a.current.has(c)?a.current.get(c).add(t):a.current.set(c,new Set([t]))),x(3,()=>{Y(),X(),r.current.value||J(),k.emit()}),()=>{i.current.delete(t),d.current.delete(t),r.current.filtered.items.delete(t);let m=M();x(4,()=>{Y(),m?.getAttribute("id")===t&&J(),k.emit()})}),group:t=>(a.current.has(t)||a.current.set(t,new Set),()=>{i.current.delete(t),a.current.delete(t)}),filter:()=>f.current.shouldFilter,label:b||e["aria-label"],getDisablePointerSelection:()=>f.current.disablePointerSelection,listId:U,inputId:W,labelId:ue,listInnerRef:N}),[]);function ie(t,c){var m,u;let v=(u=(m=f.current)==null?void 0:m.filter)!=null?u:_e;return t?v(t,r.current.search,c):0}function X(){if(!r.current.search||f.current.shouldFilter===!1)return;let t=r.current.filtered.items,c=[];r.current.filtered.groups.forEach(u=>{let v=a.current.get(u),g=0;v.forEach(C=>{let y=t.get(C);g=Math.max(y,g)}),c.push([u,g])});let m=N.current;q().sort((u,v)=>{var g,C;let y=u.getAttribute("id"),G=v.getAttribute("id");return((g=t.get(G))!=null?g:0)-((C=t.get(y))!=null?C:0)}).forEach(u=>{let v=u.closest(re);v?v.appendChild(u.parentElement===v?u:u.closest(`${re} > *`)):m.appendChild(u.parentElement===m?u:u.closest(`${re} > *`))}),c.sort((u,v)=>v[1]-u[1]).forEach(u=>{var v;let g=(v=N.current)==null?void 0:v.querySelector(`${z}[${D}="${encodeURIComponent(u[0])}"]`);g?.parentElement.appendChild(g)})}function J(){let t=q().find(m=>m.getAttribute("aria-disabled")!=="true"),c=t?.getAttribute(D);k.setState("value",c||void 0)}function Y(){var t,c,m,u;if(!r.current.search||f.current.shouldFilter===!1){r.current.filtered.count=d.current.size;return}r.current.filtered.groups=new Set;let v=0;for(let g of d.current){let C=(c=(t=i.current.get(g))==null?void 0:t.value)!=null?c:"",y=(u=(m=i.current.get(g))==null?void 0:m.keywords)!=null?u:[],G=ie(C,y);r.current.filtered.items.set(g,G),G>0&&v++}for(let[g,C]of a.current)for(let y of C)if(r.current.filtered.items.get(y)>0){r.current.filtered.groups.add(g);break}r.current.filtered.count=v}function oe(){var t,c,m;let u=M();u&&(((t=u.parentElement)==null?void 0:t.firstChild)===u&&((m=(c=u.closest(z))==null?void 0:c.querySelector(Ge))==null||m.scrollIntoView({block:"nearest"})),u.scrollIntoView({block:"nearest"}))}function M(){var t;return(t=N.current)==null?void 0:t.querySelector(`${ge}[aria-selected="true"]`)}function q(){var t;return Array.from(((t=N.current)==null?void 0:t.querySelectorAll(pe))||[])}function Q(t){let c=q()[t];c&&k.setState("value",c.getAttribute(D))}function Z(t){var c;let m=M(),u=q(),v=u.findIndex(C=>C===m),g=u[v+t];(c=f.current)!=null&&c.loop&&(g=v+t<0?u[u.length-1]:v+t===u.length?u[0]:u[v+t]),g&&k.setState("value",g.getAttribute(D))}function ce(t){let c=M(),m=c?.closest(z),u;for(;m&&!u;)m=t>0?Ze(m,z):et(m,z),u=m?.querySelector(pe);u?k.setState("value",u.getAttribute(D)):Z(t)}let se=()=>Q(q().length-1),de=t=>{t.preventDefault(),t.metaKey?se():t.altKey?ce(1):Z(1)},fe=t=>{t.preventDefault(),t.metaKey?Q(0):t.altKey?ce(-1):Z(-1)};return l.createElement(j.div,{ref:n,tabIndex:-1,...B,"cmdk-root":"",onKeyDown:t=>{var c;(c=B.onKeyDown)==null||c.call(B,t);let m=t.nativeEvent.isComposing||t.keyCode===229;if(!(t.defaultPrevented||m))switch(t.key){case"n":case"j":{A&&t.ctrlKey&&de(t);break}case"ArrowDown":{de(t);break}case"p":case"k":{A&&t.ctrlKey&&fe(t);break}case"ArrowUp":{fe(t);break}case"Home":{t.preventDefault(),Q(0);break}case"End":{t.preventDefault(),se();break}case"Enter":{t.preventDefault();let u=M();if(u){let v=new Event(le);u.dispatchEvent(v)}}}}},l.createElement("label",{"cmdk-label":"",htmlFor:T.inputId,id:T.labelId,style:nt},b),_(e,t=>l.createElement(xe.Provider,{value:k},l.createElement(be.Provider,{value:T},t))))}),He=l.forwardRef((e,n)=>{var r,d;let a=P(),i=l.useRef(null),s=l.useContext(ye),f=V(),b=ke(e),o=(d=(r=b.current)==null?void 0:r.forceMount)!=null?d:s?.forceMount;$(()=>{if(!o)return f.item(a,s?.id)},[o]);let p=Ee(a,i,[e.value,e.children,i],e.keywords),h=ae(),S=R(x=>x.value&&x.value===p.current),w=R(x=>o||f.filter()===!1?!0:x.search?x.filtered.items.get(a)>0:!0);l.useEffect(()=>{let x=i.current;if(!(!x||e.disabled))return x.addEventListener(le,I),()=>x.removeEventListener(le,I)},[w,e.onSelect,e.disabled]);function I(){var x,k;H(),(k=(x=b.current).onSelect)==null||k.call(x,p.current)}function H(){h.setState("value",p.current,!0)}if(!w)return null;let{disabled:A,value:B,onSelect:U,forceMount:ue,keywords:W,...N}=e;return l.createElement(j.div,{ref:O(i,n),...N,id:a,"cmdk-item":"",role:"option","aria-disabled":!!A,"aria-selected":!!S,"data-disabled":!!A,"data-selected":!!S,onPointerMove:A||f.getDisablePointerSelection()?void 0:H,onClick:A?void 0:I},e.children)}),Ue=l.forwardRef((e,n)=>{let{heading:r,children:d,forceMount:a,...i}=e,s=P(),f=l.useRef(null),b=l.useRef(null),o=P(),p=V(),h=R(w=>a||p.filter()===!1?!0:w.search?w.filtered.groups.has(s):!0);$(()=>p.group(s),[]),Ee(s,f,[e.value,e.heading,b]);let S=l.useMemo(()=>({id:s,forceMount:a}),[a]);return l.createElement(j.div,{ref:O(f,n),...i,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},r&&l.createElement("div",{ref:b,"cmdk-group-heading":"","aria-hidden":!0,id:o},r),_(e,w=>l.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?o:void 0},l.createElement(ye.Provider,{value:S},w))))}),We=l.forwardRef((e,n)=>{let{alwaysRender:r,...d}=e,a=l.useRef(null),i=R(s=>!s.search);return!r&&!i?null:l.createElement(j.div,{ref:O(a,n),...d,"cmdk-separator":"",role:"separator"})}),Te=l.forwardRef((e,n)=>{let{onValueChange:r,...d}=e,a=e.value!=null,i=ae(),s=R(o=>o.search),f=R(o=>o.selectedItemId),b=V();return l.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),l.createElement(j.input,{ref:n,...d,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":b.listId,"aria-labelledby":b.labelId,"aria-activedescendant":f,id:b.inputId,type:"text",value:a?e.value:s,onChange:o=>{a||i.setState("search",o.target.value),r?.(o.target.value)}})}),Xe=l.forwardRef((e,n)=>{let{children:r,label:d="Suggestions",...a}=e,i=l.useRef(null),s=l.useRef(null),f=R(o=>o.selectedItemId),b=V();return l.useEffect(()=>{if(s.current&&i.current){let o=s.current,p=i.current,h,S=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let w=o.offsetHeight;p.style.setProperty("--cmdk-list-height",w.toFixed(1)+"px")})});return S.observe(o),()=>{cancelAnimationFrame(h),S.unobserve(o)}}},[]),l.createElement(j.div,{ref:O(i,n),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":f,"aria-label":d,id:b.listId},_(e,o=>l.createElement("div",{ref:O(s,b.listInnerRef),"cmdk-list-sizer":""},o)))}),Je=l.forwardRef((e,n)=>{let{open:r,onOpenChange:d,overlayClassName:a,contentClassName:i,container:s,...f}=e;return l.createElement(je,{open:r,onOpenChange:d},l.createElement(Ae,{container:s},l.createElement(Ne,{"cmdk-overlay":"",className:a}),l.createElement($e,{"aria-label":e.label,"cmdk-dialog":"",className:i},l.createElement(we,{ref:n,...f}))))}),Ye=l.forwardRef((e,n)=>R(r=>r.filtered.count===0)?l.createElement(j.div,{ref:n,...e,"cmdk-empty":"",role:"presentation"}):null),Qe=l.forwardRef((e,n)=>{let{progress:r,children:d,label:a="Loading...",...i}=e;return l.createElement(j.div,{ref:n,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},_(e,s=>l.createElement("div",{"aria-hidden":!0},s)))}),K=Object.assign(we,{List:Xe,Item:He,Input:Te,Group:Ue,Separator:We,Dialog:Je,Empty:Ye,Loading:Qe});function Ze(e,n){let r=e.nextElementSibling;for(;r;){if(r.matches(n))return r;r=r.nextElementSibling}}function et(e,n){let r=e.previousElementSibling;for(;r;){if(r.matches(n))return r;r=r.previousElementSibling}}function ke(e){let n=l.useRef(e);return $(()=>{n.current=e}),n}var $=typeof window>"u"?l.useEffect:l.useLayoutEffect;function L(e){let n=l.useRef();return n.current===void 0&&(n.current=e()),n}function R(e){let n=ae(),r=()=>e(n.snapshot());return l.useSyncExternalStore(n.subscribe,r,r)}function Ee(e,n,r,d=[]){let a=l.useRef(),i=V();return $(()=>{var s;let f=(()=>{var o;for(let p of r){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(o=p.current.textContent)==null?void 0:o.trim():a.current}})(),b=d.map(o=>o.trim());i.value(e,f,b),(s=n.current)==null||s.setAttribute(D,f),a.current=f}),a}var tt=()=>{let[e,n]=l.useState(),r=L(()=>new Map);return $(()=>{r.current.forEach(d=>d()),r.current=new Map},[e]),(d,a)=>{r.current.set(d,a),n({})}};function rt(e){let n=e.type;return typeof n=="function"?n(e.props):"render"in n?n.render(e.props):e}function _({asChild:e,children:n},r){return e&&l.isValidElement(n)?l.cloneElement(rt(n),{ref:n.ref},r(n.props.children)):r(n)}var nt={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function it({className:e,...n}){return E.jsx(K,{"data-slot":"command",className:F("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...n})}function ot({className:e,label:n,error:r,required:d,id:a,...i}){const s=n||r,f=E.jsx("div",{className:"px-1 pt-1",children:E.jsxs("div",{"data-slot":"command-input-wrapper",className:F("flex h-9 items-center gap-2 rounded-md border px-3",r&&"border-destructive"),children:[E.jsx(Ie,{className:"size-4 shrink-0 opacity-50"}),E.jsx(K.Input,{id:a,"data-slot":"command-input","aria-invalid":!!r,className:F("placeholder:text-muted-foreground flex h-10 w-full bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",r&&"focus-visible:ring-destructive",e),...i})]})});return s?E.jsxs("div",{className:"flex flex-col gap-1",children:[n&&E.jsxs(Re,{htmlFor:a,children:[n,d&&E.jsx("span",{className:"text-destructive",children:"*"})]}),f,r&&E.jsx("div",{className:"text-destructive text-sm",role:"alert",children:r})]}):f}function ct({className:e,...n}){return E.jsx(K.List,{"data-slot":"command-list",className:F("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...n})}function st({...e}){return E.jsx(K.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function dt({className:e,...n}){return E.jsx(K.Group,{"data-slot":"command-group",className:F("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...n})}function ft({className:e,...n}){return E.jsx(K.Item,{"data-slot":"command-item",className:F("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n})}export{ut as C,it as a,ot as b,ct as c,st as d,dt as e,ft as f};
