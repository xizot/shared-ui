import{r as d,j as a,f as L,i as z,P as _,u as H,k as S,h as j,o as G,F as K}from"./main-BD6A7FO3.js";import{u as U}from"./index-DcJUV-pL.js";import{u as X}from"./index-CCIYboYP.js";import{C as Z}from"./check-DloHci1Q.js";var y="Checkbox",[$]=L(y),[J,I]=$(y);function Q(t){const{__scopeCheckbox:r,checked:o,children:s,defaultChecked:c,disabled:e,form:f,name:h,onCheckedChange:u,required:k,value:m="on",internal_do_not_use_render:l}=t,[p,v]=H({prop:o,defaultProp:c??!1,onChange:u,caller:y}),[C,x]=d.useState(null),[g,n]=d.useState(null),i=d.useRef(!1),E=C?!!f||!!C.closest("form"):!0,R={checked:p,disabled:e,setChecked:v,control:C,setControl:x,name:h,form:f,value:m,hasConsumerStoppedPropagationRef:i,required:k,defaultChecked:b(c)?!1:c,isFormControl:E,bubbleInput:g,setBubbleInput:n};return a.jsx(J,{scope:r,...R,children:V(l)?l(R):s})}var N="CheckboxTrigger",w=d.forwardRef(({__scopeCheckbox:t,onKeyDown:r,onClick:o,...s},c)=>{const{control:e,value:f,disabled:h,checked:u,required:k,setControl:m,setChecked:l,hasConsumerStoppedPropagationRef:p,isFormControl:v,bubbleInput:C}=I(N,t),x=S(c,m),g=d.useRef(u);return d.useEffect(()=>{const n=e?.form;if(n){const i=()=>l(g.current);return n.addEventListener("reset",i),()=>n.removeEventListener("reset",i)}},[e,l]),a.jsx(_.button,{type:"button",role:"checkbox","aria-checked":b(u)?"mixed":u,"aria-required":k,"data-state":A(u),"data-disabled":h?"":void 0,disabled:h,value:f,...s,ref:x,onKeyDown:j(r,n=>{n.key==="Enter"&&n.preventDefault()}),onClick:j(o,n=>{l(i=>b(i)?!0:!i),C&&v&&(p.current=n.isPropagationStopped(),p.current||n.stopPropagation())})})});w.displayName=N;var B=d.forwardRef((t,r)=>{const{__scopeCheckbox:o,name:s,checked:c,defaultChecked:e,required:f,disabled:h,value:u,onCheckedChange:k,form:m,...l}=t;return a.jsx(Q,{__scopeCheckbox:o,checked:c,defaultChecked:e,disabled:h,required:f,onCheckedChange:k,name:s,form:m,value:u,internal_do_not_use_render:({isFormControl:p})=>a.jsxs(a.Fragment,{children:[a.jsx(w,{...l,ref:r,__scopeCheckbox:o}),p&&a.jsx(q,{__scopeCheckbox:o})]})})});B.displayName=y;var M="CheckboxIndicator",F=d.forwardRef((t,r)=>{const{__scopeCheckbox:o,forceMount:s,...c}=t,e=I(M,o);return a.jsx(z,{present:s||b(e.checked)||e.checked===!0,children:a.jsx(_.span,{"data-state":A(e.checked),"data-disabled":e.disabled?"":void 0,...c,ref:r,style:{pointerEvents:"none",...t.style}})})});F.displayName=M;var T="CheckboxBubbleInput",q=d.forwardRef(({__scopeCheckbox:t,...r},o)=>{const{control:s,hasConsumerStoppedPropagationRef:c,checked:e,defaultChecked:f,required:h,disabled:u,name:k,value:m,form:l,bubbleInput:p,setBubbleInput:v}=I(T,t),C=S(o,v),x=U(e),g=X(s);d.useEffect(()=>{const i=p;if(!i)return;const E=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(E,"checked").set,O=!c.current;if(x!==e&&P){const D=new Event("click",{bubbles:O});i.indeterminate=b(e),P.call(i,b(e)?!1:e),i.dispatchEvent(D)}},[p,x,e,c]);const n=d.useRef(b(e)?!1:e);return a.jsx(_.input,{type:"checkbox","aria-hidden":!0,defaultChecked:f??n.current,required:h,disabled:u,name:k,value:m,form:l,...r,tabIndex:-1,ref:C,style:{...r.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});q.displayName=T;function V(t){return typeof t=="function"}function b(t){return t==="indeterminate"}function A(t){return b(t)?"indeterminate":t?"checked":"unchecked"}function re({className:t,size:r="md",...o}){const s=K[r??"md"];return a.jsx(B,{"data-slot":"checkbox","data-size":r,className:G("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s.icon,t),...o,children:a.jsx(F,{"data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:a.jsx(Z,{className:s.icon})})})}export{re as C};
