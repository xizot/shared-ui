import{y as $,r as l,j as e,o as G,z as k,C as j,a as p,b as y,c as b,d as v}from"./main-BCi_6bsg.js";import{D as H,b as T,c as K,d as q,e as J}from"./dialog-CZd3-h-o.js";import{X as Q}from"./x-qJFzFGNN.js";import{C as ee}from"./chevron-left-BhpzyQQN.js";import{C as se}from"./chevron-right-CiG1Op2i.js";import{I as d}from"./image-preview-D8Xdqq_e.js";import"./index-CsPFyzxQ.js";import"./index-CjG7Cwjs.js";import"./index-BOvJTUYG.js";import"./aspect-ratio-CEdkTxLu.js";const te=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ne=$("zoom-in",te);const le=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],oe=$("zoom-out",le);function ae({images:r,open:c,onOpenChange:w,initialIndex:h=0,showNavigation:o=!0,showCounter:D=!0,showZoom:x=!0,className:R}){const[a,i]=l.useState(h),[f,t]=l.useState(1),[u,m]=l.useState({x:0,y:0}),[g,C]=l.useState(!1),[I,A]=l.useState({x:0,y:0}),O=l.useRef(null);l.useEffect(()=>{c&&(i(h),t(1),m({x:0,y:0}))},[c,h]),l.useEffect(()=>{c&&h>=0&&h<r.length&&i(h)},[h,r.length,c]);const P=s=>typeof s=="string"?s:s instanceof File?URL.createObjectURL(s):s.url,Z=(s,n)=>typeof s=="string"?`Image ${n+1}`:s instanceof File?s.name:s.alt||`Image ${n+1}`,N=r[a],_=N?P(N):"",F=N?Z(N,a):"",z=()=>{a>0&&(i(a-1),t(1),m({x:0,y:0}))},L=()=>{a<r.length-1&&(i(a+1),t(1),m({x:0,y:0}))},S=()=>{t(s=>Math.min(s+.25,3))},M=()=>{t(s=>{const n=Math.max(s-.25,1);return n===1&&m({x:0,y:0}),n})},W=()=>{t(1),m({x:0,y:0})},B=s=>{f>1&&(C(!0),A({x:s.clientX-u.x,y:s.clientY-u.y}))},V=s=>{g&&f>1&&m({x:s.clientX-I.x,y:s.clientY-I.y})},E=()=>{C(!1)},X=s=>{if(x){s.preventDefault();const n=s.deltaY>0?-.1:.1;t(Y=>{const U=Math.max(1,Math.min(3,Y+n));return U===1&&m({x:0,y:0}),U})}};return l.useEffect(()=>{const s=n=>{if(c)switch(n.key){case"ArrowLeft":n.preventDefault(),z();break;case"ArrowRight":n.preventDefault(),L();break;case"Escape":n.preventDefault(),w(!1);break;case"+":case"=":x&&(n.preventDefault(),S());break;case"-":x&&(n.preventDefault(),M());break;case"0":x&&(n.preventDefault(),W());break}};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[c,a,r.length,x]),r.length===0?null:e.jsx(H,{open:c,onOpenChange:w,children:e.jsxs(T,{className:G("max-w-[95vw] max-h-[95vh] p-0",R),showCloseButton:!1,"data-slot":"image-lightbox",children:[e.jsxs(K,{className:"sr-only",children:[e.jsx(q,{children:"Image Viewer"}),e.jsx(J,{children:"View full-size image"})]}),e.jsxs("div",{className:"relative flex items-center justify-center w-full h-full min-h-[50vh] bg-black/90",children:[e.jsxs(k,{type:"button",variant:"ghost",size:"icon",className:"absolute top-4 right-4 z-50 text-white hover:bg-white/20",onClick:()=>w(!1),"data-slot":"image-lightbox-close",children:[e.jsx(Q,{className:"h-6 w-6"}),e.jsx("span",{className:"sr-only",children:"Close"})]}),x&&e.jsxs("div",{className:"absolute top-4 left-4 z-50 flex gap-2","data-slot":"image-lightbox-zoom",children:[e.jsxs(k,{type:"button",variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",onClick:M,disabled:f<=1,children:[e.jsx(oe,{className:"h-5 w-5"}),e.jsx("span",{className:"sr-only",children:"Zoom out"})]}),e.jsxs(k,{type:"button",variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",onClick:S,disabled:f>=3,children:[e.jsx(ne,{className:"h-5 w-5"}),e.jsx("span",{className:"sr-only",children:"Zoom in"})]})]}),o&&a>0&&e.jsxs(k,{type:"button",variant:"ghost",size:"icon",className:"absolute left-4 top-1/2 -translate-y-1/2 z-50 text-white hover:bg-white/20 h-12 w-12",onClick:z,"data-slot":"image-lightbox-previous",children:[e.jsx(ee,{className:"h-8 w-8"}),e.jsx("span",{className:"sr-only",children:"Previous image"})]}),o&&a<r.length-1&&e.jsxs(k,{type:"button",variant:"ghost",size:"icon",className:"absolute right-4 top-1/2 -translate-y-1/2 z-50 text-white hover:bg-white/20 h-12 w-12",onClick:L,"data-slot":"image-lightbox-next",children:[e.jsx(se,{className:"h-8 w-8"}),e.jsx("span",{className:"sr-only",children:"Next image"})]}),e.jsx("div",{className:"flex items-center justify-center w-full h-full overflow-hidden cursor-move",onMouseDown:B,onMouseMove:V,onMouseUp:E,onMouseLeave:E,onWheel:X,"data-slot":"image-lightbox-container",children:e.jsx("img",{ref:O,src:_,alt:F,className:"max-w-full max-h-full object-contain select-none",style:{transform:`translate(${u.x}px, ${u.y}px) scale(${f})`,transition:g?"none":"transform 0.2s"},"data-slot":"image-lightbox-image"})}),D&&r.length>1&&e.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-50 bg-black/50 text-white px-4 py-2 rounded-md text-sm","data-slot":"image-lightbox-counter",children:[a+1," / ",r.length]})]})]})})}function je(){const[r,c]=l.useState(!1),[w,h]=l.useState(0),o=["https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=800&fit=crop","https://images.unsplash.com/photo-1518837695005-2083093ee35b?w=800&h=800&fit=crop","https://images.unsplash.com/photo-1501594907352-04cda38ebc29?w=800&h=800&fit=crop","https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?w=800&h=800&fit=crop","https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=800&h=800&fit=crop","https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=800&h=800&fit=crop"],[D]=l.useState(o),[x,R]=l.useState(o),a=t=>typeof t=="string"?t:t instanceof File?URL.createObjectURL(t):t.url,i=(t,u)=>{const m=a(u),g=o.findIndex(C=>typeof C=="string"?C===m:!1);h(g!==-1?g:t),c(!0)},f=t=>{R(u=>u.filter((m,g)=>g!==t))};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs(j,{children:[e.jsxs(p,{children:[e.jsx(y,{children:"Basic Grid"}),e.jsx(b,{children:"Simple image grid with 3 columns"})]}),e.jsx(v,{children:e.jsx(d,{images:o.slice(0,6),columns:3,onClick:i,showRemove:!1})})]}),e.jsxs(j,{children:[e.jsxs(p,{children:[e.jsx(y,{children:"Different Column Counts"}),e.jsx(b,{children:"Grid layouts with different column counts"})]}),e.jsxs(v,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"2 Columns"}),e.jsx(d,{images:o.slice(0,4),columns:2,onClick:i,showRemove:!1})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"4 Columns"}),e.jsx(d,{images:o.slice(0,4),columns:4,onClick:i,showRemove:!1})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"6 Columns"}),e.jsx(d,{images:o.slice(0,6),columns:6,onClick:i,showRemove:!1})]})]})]}),e.jsxs(j,{children:[e.jsxs(p,{children:[e.jsx(y,{children:"With Lightbox"}),e.jsx(b,{children:"Click images to open in lightbox viewer"})]}),e.jsx(v,{children:e.jsx(d,{images:D,columns:3,onClick:i,showRemove:!1})})]}),e.jsxs(j,{children:[e.jsxs(p,{children:[e.jsx(y,{children:"With Remove Functionality"}),e.jsx(b,{children:"Remove images from the grid"})]}),e.jsxs(v,{children:[e.jsx(d,{images:x,columns:3,onRemove:f,onClick:i}),x.length===0&&e.jsx("div",{className:"mt-4 text-sm text-muted-foreground text-center",children:"All images removed"})]})]}),e.jsxs(j,{children:[e.jsxs(p,{children:[e.jsx(y,{children:"Empty State"}),e.jsx(b,{children:"Display when no images are available"})]}),e.jsx(v,{children:e.jsx(d,{images:[],columns:3,emptyMessage:"No images to display"})})]}),e.jsxs(j,{children:[e.jsxs(p,{children:[e.jsx(y,{children:"Loading State"}),e.jsx(b,{children:"Display loading indicator"})]}),e.jsx(v,{children:e.jsx(d,{images:[],columns:3,loading:!0})})]}),e.jsxs(j,{children:[e.jsxs(p,{children:[e.jsx(y,{children:"Single Column"}),e.jsx(b,{children:"Vertical list layout"})]}),e.jsx(v,{children:e.jsx(d,{images:o.slice(0,3),columns:1,onClick:i,showRemove:!1})})]}),e.jsx(ae,{images:o,open:r,onOpenChange:c,initialIndex:w})]})}export{je as default};
