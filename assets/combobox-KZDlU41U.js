import{r as c,j as e,z as v,o as r,p as b,D as R}from"./main-CmXVh1U4.js";import{C as T,a as X,b as $,c as q,d as F,e as H,f as J}from"./command-BfDSTf5V.js";import{P as K,a as L,b as Q}from"./popover-DmnRNoxw.js";import{P as U}from"./plus-Bt0-bBh0.js";import{C as W}from"./check-CF-N4Un_.js";function se({options:i,value:t,onChange:u,label:n,error:o,required:w,placeholder:y="Select option...",searchPlaceholder:k="Search...",emptyMessage:P="No results found.",disabled:f=!1,readonly:S=!1,size:D="md",showClearIcon:E=!0,showArrowIcon:h=!0,showSearch:O=!0,showCreate:V=!1,onCreate:p,createLabel:m,suffix:z,className:j,triggerClassName:M,popoverClassName:B}){const[l,d]=c.useState(!1),[a,x]=c.useState("");c.useEffect(()=>{l||x("")},[l]);const g=c.useMemo(()=>i.find(s=>s.id===t),[i,t]),N=!f&&!S&&!!t,G=s=>{u?.(s.id,s),d(!1)},I=s=>{s.preventDefault(),s.stopPropagation(),N&&u?.("",void 0)},C=e.jsxs(K,{open:l,onOpenChange:d,children:[e.jsx(L,{asChild:!0,children:e.jsxs(v,{variant:"outline",role:"combobox","aria-expanded":l,disabled:f,size:D,className:r("w-full justify-between group/combobox",!t&&"text-muted-foreground",o&&"border-destructive",M),children:[e.jsx("span",{className:"flex-1 text-left truncate",children:g?g.name:y}),e.jsxs("div",{className:"flex items-center gap-1 shrink-0 ml-2",children:[t&&N?e.jsxs("span",{onMouseDown:s=>{s.preventDefault(),s.stopPropagation()},onClick:I,className:"cursor-pointer",children:[E&&e.jsx(T,{className:"text-muted-foreground hidden group-hover/combobox:block h-4 w-4"}),h&&e.jsx(b,{className:"text-muted-foreground block group-hover/combobox:hidden h-4 w-4"})]}):h&&e.jsx(b,{className:"text-muted-foreground h-4 w-4"}),z]})]})}),e.jsx(Q,{className:r("w-(--radix-popover-trigger-width) p-0",B),align:"start",children:e.jsxs(X,{children:[O&&e.jsx($,{placeholder:k,value:a,onValueChange:x}),e.jsxs(q,{children:[e.jsx(F,{children:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 py-4",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:P}),V&&a.trim()&&p&&e.jsxs(v,{variant:"outline",size:"sm",onClick:()=>{p(a.trim()),x(""),d(!1)},className:"mt-2",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),typeof m=="function"?m(a.trim()):m||`Create "${a.trim()}"`]})]})}),e.jsx(H,{children:i.map(s=>e.jsxs(J,{value:s.name,disabled:s.disabled,onSelect:()=>G(s),className:"flex items-center justify-between gap-2",children:[e.jsx("span",{className:"flex-1 truncate",children:s.name}),e.jsx(W,{className:r("h-4 w-4 shrink-0 text-primary",t===s.id?"opacity-100":"opacity-0")})]},s.id))})]})]})})]});return!n&&!o?e.jsx("div",{className:r("w-full",j),children:C}):e.jsxs("div",{className:r("w-full",j),children:[n&&e.jsxs(R,{className:"text-foreground leading-5 block",children:[n,w&&e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx("div",{className:n?"mt-1":"",children:C}),o&&e.jsx("div",{className:"text-destructive text-sm mt-1.5",role:"alert",children:o})]})}export{se as C};
