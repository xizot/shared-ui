import{r as f,j as e,z as O,o as t,p as j,D as L}from"./main-Dg6BE9yI.js";import{C as M,a as z,b as B,c as G,d as I,e as R,f as T}from"./command-CQUiljfx.js";import{P as X,a as q,b as F}from"./popover-Cq0Xr4Yb.js";import{C as H}from"./check-B5ch_lk6.js";function V({options:o,value:a,onChange:c,label:r,error:n,required:g,placeholder:C="Select option...",searchPlaceholder:b="Search...",emptyMessage:N="No results found.",disabled:l=!1,readonly:v=!1,size:w="md",showClearIcon:k=!0,showArrowIcon:d=!0,suffix:y,className:i,triggerClassName:P,popoverClassName:D}){const[m,x]=f.useState(!1),u=f.useMemo(()=>o.find(s=>s.id===a),[o,a]),h=!l&&!v&&!!a,S=s=>{c?.(s.id,s),x(!1)},E=s=>{s.preventDefault(),s.stopPropagation(),h&&c?.("",void 0)},p=e.jsxs(X,{open:m,onOpenChange:x,children:[e.jsx(q,{asChild:!0,children:e.jsxs(O,{variant:"outline",role:"combobox","aria-expanded":m,disabled:l,size:w,className:t("w-full justify-between group/combobox",!a&&"text-muted-foreground",n&&"border-destructive",P),children:[e.jsx("span",{className:"flex-1 text-left truncate",children:u?u.name:C}),e.jsxs("div",{className:"flex items-center gap-1 shrink-0 ml-2",children:[a&&h?e.jsxs("span",{onMouseDown:s=>{s.preventDefault(),s.stopPropagation()},onClick:E,className:"cursor-pointer",children:[k&&e.jsx(M,{className:"text-muted-foreground hidden group-hover/combobox:block h-4 w-4"}),d&&e.jsx(j,{className:"text-muted-foreground block group-hover/combobox:hidden h-4 w-4"})]}):d&&e.jsx(j,{className:"text-muted-foreground h-4 w-4"}),y]})]})}),e.jsx(F,{className:t("w-(--radix-popover-trigger-width) p-0",D),align:"start",children:e.jsxs(z,{children:[e.jsx(B,{placeholder:b}),e.jsxs(G,{children:[e.jsx(I,{children:N}),e.jsx(R,{children:o.map(s=>e.jsxs(T,{value:s.name,disabled:s.disabled,onSelect:()=>S(s),className:"flex items-center justify-between gap-2",children:[e.jsx("span",{className:"flex-1 truncate",children:s.name}),e.jsx(H,{className:t("h-4 w-4 shrink-0 text-primary",a===s.id?"opacity-100":"opacity-0")})]},s.id))})]})]})})]});return!r&&!n?e.jsx("div",{className:t("w-full",i),children:p}):e.jsxs("div",{className:t("w-full",i),children:[r&&e.jsxs(L,{className:"text-foreground leading-5 block",children:[r,g&&e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx("div",{className:r?"mt-1":"",children:p}),n&&e.jsx("div",{className:"text-destructive text-sm mt-1.5",role:"alert",children:n})]})}export{V as C};
